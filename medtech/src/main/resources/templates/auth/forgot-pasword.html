<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Recuperar Contraseña - MedTech</title>
    <link rel="stylesheet" th:href="@{/css/auth.css}">
</head>
<body>

    <div class="auth-container">
        <h2>Recuperar Contraseña</h2>

        <form id="forgotPasswordForm">
            <label>Email:</label>
            <input type="email" id="forgotEmail" required>

            <button type="submit">Enviar enlace de recuperación</button>
        </form>

        <p>¿Recordaste tu contraseña? <a th:href="@{/loginh}">Inicia sesión</a></p>

        <p id="forgotSuccess" class="success-message" style="display:none;">
            Si el email está registrado, recibirás un enlace de recuperación.
        </p>
    </div>

    <script>
        document.getElementById("forgotPasswordForm").addEventListener("submit", function(event) {
            event.preventDefault();

            let email = document.getElementById("forgotEmail").value;

            let usuarios = JSON.parse(localStorage.getItem("usuarios")) || [];
            let usuario = usuarios.find(u => u.email === email);

            if (usuario) {
                document.getElementById("forgotSuccess").style.display = "block";
                alert("Correo de recuperación enviado (simulado).");
            } else {
                alert("Este email no está registrado.");
            }
        });
    </script>

</body>
</html>